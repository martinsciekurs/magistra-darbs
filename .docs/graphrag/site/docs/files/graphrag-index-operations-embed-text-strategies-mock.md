---
sidebar_position: 65
---

# graphrag/index/operations/embed_text/strategies/mock.py

## Overview

Mock embedding strategy for text embeddings used in graphrag.

Purpose
Provide a simple, mock implementation of a text embedding strategy for development and testing. It generates 3-dimensional embeddings for input texts and reports progress via a progress ticker.

Exports
- _embed_text(_cache: PipelineCache, _text: str, tick: ProgressTicker) -&gt; list[float]
- run(input: list[str], callbacks: WorkflowCallbacks, cache: PipelineCache, _args: dict[str, Any]) -&gt; TextEmbeddingResult

Summary
The module defines a helper to embed a single piece of text and a synchronous run function that processes a collection of texts, producing a TextEmbeddingResult containing per-text embeddings, while reporting progress through a ProgressTicker. Embeddings are 3-element float vectors generated by a mock process suitable for development and testing. Determinism depends on the global random state; to reproduce results, seed Python's random module before use.

Functions
- _embed_text(_cache: PipelineCache, _text: str, tick: ProgressTicker) -&gt; list[float]
- run(input: list[str], callbacks: WorkflowCallbacks, cache: PipelineCache, _args: dict[str, Any]) -&gt; TextEmbeddingResult

Args
- _embed_text:
  _cache: PipelineCache: Cache used for embedding operations.
  _text: str: Text to embed.
  tick: ProgressTicker: Progress ticker to report progress.
- run:
  input: list[str]: The input texts to embed.
  callbacks: WorkflowCallbacks: Callback handlers for workflow events.
  cache: PipelineCache: Cache used for embedding operations.
  _args: dict[str, Any]: Additional runtime arguments.

Returns
- _embed_text: Embedding vector as a list of three floats.
- run: TextEmbeddingResult containing per-text embeddings.

Raises
- _embed_text: May raise ValueError for invalid input; may propagate underlying exceptions from the cache or text processing.
- run: May propagate exceptions raised by callbacks or embedding generation; this mock implementation may not raise in normal operation.

Notes
- The run function is synchronous (not an async coroutine) even if it interfaces with components that expect asynchronous behavior. It processes inputs in a blocking manner and reports progress via the provided tick. Embeddings are 3-element vectors; values are produced via a simple mock process and are not intended to reflect real models.

## Functions

- [`_embed_text`](../api/functions/graphrag-index-operations-embed-text-strategies-mock-embed-text)
- [`run`](../api/functions/graphrag-index-operations-embed-text-strategies-mock-run)

